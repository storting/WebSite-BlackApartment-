<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apartment Details - BlackApartment Novosibirsk</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/lightgallery.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js/dist/css/lightgallery.min.css">
</head>
<body class="bg-white min-h-screen flex flex-col">
<custom-navbar></custom-navbar>
    
    <main class="flex-grow pt-20">
        <!-- Apartment Details -->
        <section class="py-16">
            <div class="container mx-auto px-4 max-w-6xl">
                    <h1 id="apartmentTitle" class="text-5xl font-bold mb-4 text-noir-900 text-center border p-6 border-noir-100 rounded-lg  shadow-sm"></h1>
                    <!-- Photos Gallery -->
                    <div class="space-y-6">
                        <div class="bg-white p-6 border border-noir-100 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-bold mb-6 text-noir-900">PHOTO GALLERY</h3>
                        <div id="lightgallery" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <!-- Images will be populated by JavaScript -->
                        </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-1 gap-12">
                        <!-- Apartment Info -->
                        <div class="space-y-8">
                                
                            <!-- Price and Booking -->
                            <div class="bg-white p-6 border border-noir-100 rounded-lg shadow-sm">
                                <div class="flex items-center justify-between mb-6">
                                    <span id="apartmentPrice" class="text-4xl font-bold text-noir-900">₽45,000/month</span>
                                    <button class="bg-noir-900 text-white px-6 py-3 font-medium hover:bg-noir-800 transition-all rounded-lg">BOOK NOW</button>
                            </div>
                            <!-- Specifications -->
                            <div class="bg-white p-6 border border-noir-100 rounded-lg shadow-sm">
                                <h3 class="text-2xl font-bold mb-4 text-noir-900">SPECIFICATIONS</h3>
                                <div id="apartmentSpecs" class="grid grid-cols-2 gap-4">
                                    <!-- Specifications will be populated by JavaScript -->
                                </div>
                            </div>
                            <!-- Address and Map -->
                            <div class="bg-white p-6 border border-noir-200 rounded-lg">
                                    <h3 class="text-2xl font-bold mb-4 text-noir-900">LOCATION</h3>
                                    <p id="apartmentAddress" class="text-noir-700 mb-4"><strong>Адрес:</strong> ул. Ленина, 123, Центральный район, Новосибирск</p>
                                    <div class="h-64 bg-noir-200 rounded-lg flex items-center justify-center">
                                        <p class="text-noir-600">Карта будет отображаться здесь</p>
                            </div>
<!-- Availability Calendar -->
                            <div class="bg-white p-6 border border-noir-200 rounded-lg">
                                    <h3 class="text-2xl font-bold mb-4 text-noir-900">AVAILABILITY</h3>
                                    <div class="grid grid-cols-7 gap-2 text-center">
                                    <div class="text-sm text-noir-600">Пн</div>
                                    <div class="text-sm text-noir-600">Вт</div>
                                    <div class="text-sm text-noir-600">Ср</div>
                                    <div class="text-sm text-noir-600">Чт</div>
                                    <div class="text-sm text-noir-600">Пт</div>
                                    <div class="text-sm text-noir-600">Сб</div>
                                    <div class="text-sm text-noir-600">Вс</div>
                                    <!-- Calendar days will be populated by JavaScript -->
                                    <div id="calendarDays" class="col-span-7 grid grid-cols-7 gap-2">
                                        <!-- JavaScript will populate calendar days here -->
                                    </div>
                                </div>
                            </div>

                            <!-- Dates -->
                            <div class="bg-white p-6 border border-noir-200 rounded-lg">
                                    <h3 class="text-2xl font-bold mb-4 text-noir-900">DATES</h3>
                                    <div class="space-y-3">
                                        <p class="text-noir-700"><strong>Дата заселения:</strong> Любая свободная дата</p>
                                        <p class="text-noir-700"><strong>Дата выселения:</strong> По договоренности</p>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <custom-footer></custom-footer>

    <script src="{{ url_for('static', filename='js/components/navbar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/footer.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script>
        feather.replace();

        // Apartment data based on ID
        const apartments = {
            1: {
                title: "Central District Loft",
                price: "₽45,000/month",
                description: "Modern minimalist design in city center",
                specs: {
                    furniture: "Полностью меблирована",
                    appliances: "Вся современная техника",
                    area: "65m²",
                    floor: "7/9",
                    bathroom: "Совмещенный"
                },
                address: "ул. Ленина, 123, Центральный район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/black/640x360/1", full: "http://static.photos/black/1024x576/1" },
                    { thumb: "http://static.photos/black/640x360/11", full: "http://static.photos/black/1024x576/11" },
                    { thumb: "http://static.photos/black/640x360/12", full: "http://static.photos/black/1024x576/12" },
                    { thumb: "http://static.photos/black/640x360/13", full: "http://static.photos/black/1024x576/13" },
                    { thumb: "http://static.photos/black/640x360/14", full: "http://static.photos/black/1024x576/14" },
                    { thumb: "http://static.photos/black/640x360/15", full: "http://static.photos/black/1024x576/15" }
                ]
            },
            2: {
                title: "River View Studio",
                price: "₽32,000/month",
                description: "Panoramic views with elegant interiors",
                specs: {
                    furniture: "Полностью меблирована",
                    appliances: "Вся современная техника",
                    area: "42m²",
                    floor: "5/12",
                    bathroom: "Раздельный"
                },
                address: "наб. Обская, 45, Октябрьский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/white/640x360/2", full: "http://static.photos/white/1024x576/2" },
                    { thumb: "http://static.photos/white/640x360/21", full: "http://static.photos/white/1024x576/21" },
                    { thumb: "http://static.photos/white/640x360/22", full: "http://static.photos/white/1024x576/22" },
                    { thumb: "http://static.photos/white/640x360/23", full: "http://static.photos/white/1024x576/23" },
                    { thumb: "http://static.photos/white/640x360/24", full: "http://static.photos/white/1024x576/24" },
                    { thumb: "http://static.photos/white/640x360/25", full: "http://static.photos/white/1024x576/25" }
                ]
            },
            3: {
                title: "Executive Penthouse",
                price: "₽68,000/month",
                description: "Luxury living with premium amenities",
                specs: {
                    furniture: "Премиум мебель",
                    appliances: "Техника премиум класса",
                    area: "85m²",
                floor: "12/12",
                    bathroom: "Два санузла"
                },
                address: "пр. Карла Маркса, 89, Центральный район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/black/640x360/3", full: "http://static.photos/black/1024x576/3" },
                    { thumb: "http://static.photos/black/640x360/31", full: "http://static.photos/black/1024x576/31" },
                    { thumb: "http://static.photos/black/640x360/32", full: "http://static.photos/black/1024x576/32" },
                    { thumb: "http://static.photos/black/640x360/33", full: "http://static.photos/black/1024x576/33" },
                    { thumb: "http://static.photos/black/640x360/34", full: "http://static.photos/black/1024x576/34" },
                    { thumb: "http://static.photos/black/640x360/35", full: "http://static.photos/black/1024x576/35" }
                ]
            },
            4: {
                title: "River View Apartment",
                price: "₽38,000/month",
                description: "Stunning river views with modern amenities",
                specs: {
                    furniture: "Полностью меблирована",
                    appliances: "Вся современная техника",
                    area: "42m²",
                    floor: "8/12",
                    bathroom: "Совмещенный"
                },
                address: "наб. Обская, 67, Октябрьский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/white/640x360/4", full: "http://static.photos/white/1024x576/4" },
                    { thumb: "http://static.photos/white/640x360/41", full: "http://static.photos/white/1024x576/41" },
                    { thumb: "http://static.photos/white/640x360/42", full: "http://static.photos/white/1024x576/42" },
                    { thumb: "http://static.photos/white/640x360/43", full: "http://static.photos/white/1024x576/43" },
                    { thumb: "http://static.photos/white/640x360/44", full: "http://static.photos/white/1024x576/44" },
                    { thumb: "http://static.photos/white/640x360/45", full: "http://static.photos/white/1024x576/45" }
                ]
            },
            5: {
                title: "Modern Studio",
                price: "₽31,000/month",
                description: "Contemporary design with smart features",
                specs: {
                    furniture: "Полностью меблирована",
                    appliances: "Умная техника",
                    area: "38m²",
                    floor: "3/9",
                    bathroom: "Совмещенный"
                },
                address: "ул. Гоголя, 28, Железнодорожный район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/black/640x360/5", full: "http://static.photos/black/1024x576/5" },
                    { thumb: "http://static.photos/black/640x360/51", full: "http://static.photos/black/1024x576/51" },
                    { thumb: "http://static.photos/black/640x360/52", full: "http://static.photos/black/1024x576/52" },
                    { thumb: "http://static.photos/black/640x360/53", full: "http://static.photos/black/1024x576/53" },
                    { thumb: "http://static.photos/black/640x360/54", full: "http://static.photos/black/1024x576/54" },
                    { thumb: "http://static.photos/black/640x360/55", full: "http://static.photos/black/1024x576/55" }
                ]
            },
            6: {
                title: "City Center Loft",
                price: "₽45,000/month",
                description: "Spacious loft in the heart of the city",
                specs: {
                    furniture: "Дизайнерская мебель",
                    appliances: "Техника премиум класса",
                    area: "55m²",
                    floor: "6/8",
                    bathroom: "Совмещенный"
                },
                address: "пр. Димитрова, 12, Ленинский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/white/640x360/6", full: "http://static.photos/white/1024x576/6" },
                    { thumb: "http://static.photos/white/640x360/61", full: "http://static.photos/white/1024x576/61" },
                    { thumb: "http://static.photos/white/640x360/62", full: "http://static.photos/white/1024x576/62" },
                    { thumb: "http://static.photos/white/640x360/63", full: "http://static.photos/white/1024x576/63" },
                    { thumb: "http://static.photos/white/640x360/64", full: "http://static.photos/white/1024x576/64" },
                    { thumb: "http://static.photos/white/640x360/65", full: "http://static.photos/white/1024x576/65" }
                ]
            },
            7: {
                title: "Premium Suite",
                price: "₽58,000/month",
                description: "Luxurious suite with premium finishes",
                specs: {
                    furniture: "Премиум мебель",
                    appliances: "Техника премиум класса",
                    area: "72m²",
                    floor: "9/9",
                    bathroom: "Раздельный"
                },
                address: "ул. Кирова, 56, Кировский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/black/640x360/7", full: "http://static.photos/black/1024x576/7" },
                    { thumb: "http://static.photos/black/640x360/71", full: "http://static.photos/black/1024x576/71" },
                    { thumb: "http://static.photos/black/640x360/72", full: "http://static.photos/black/1024x576/72" },
                    { thumb: "http://static.photos/black/640x360/73", full: "http://static.photos/black/1024x576/73" },
                    { thumb: "http://static.photos/black/640x360/74", full: "http://static.photos/black/1024x576/74" },
                    { thumb: "http://static.photos/black/640x360/75", full: "http://static.photos/black/1024x576/75" }
                ]
            },
            8: {
                title: "Business Apartment",
                price: "₽42,000/month",
                description: "Professional living space for business travelers",
                specs: {
                    furniture: "Функциональная мебель",
                    appliances: "Вся необходимая техника",
                    area: "45m²",
                    floor: "4/12",
                    bathroom: "Совмещенный"
                },
                address: "ул. Богдана Хмельницкого, 34, Ленинский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/white/640x360/8", full: "http://static.photos/white/1024x576/8" },
                    { thumb: "http://static.photos/white/640x360/81", full: "http://static.photos/white/1024x576/81" },
                    { thumb: "http://static.photos/white/640x360/82", full: "http://static.photos/white/1024x576/82" },
                    { thumb: "http://static.photos/white/640x360/83", full: "http://static.photos/white/1024x576/83" },
                    { thumb: "http://static.photos/white/640x360/84", full: "http://static.photos/white/1024x576/84" },
                    { thumb: "http://static.photos/white/640x360/85", full: "http://static.photos/white/1024x576/85" }
                ]
            },
            9: {
                title: "Designer Studio",
                price: "₽34,000/month",
                description: "Artistic space with unique design elements",
                specs: {
                    furniture: "Дизайнерская мебель",
                    appliances: "Современная техника",
                    area: "40m²",
                    floor: "2/5",
                    bathroom: "Совмещенный"
                },
                address: "ул. Дуси Ковальчук, 23, Советский район, Новосибирск",
                images: [
                    { thumb: "http://static.photos/black/640x360/9", full: "http://static.photos/black/1024x576/9" },
                    { thumb: "http://static.photos/black/640x360/91", full: "http://static.photos/black/1024x576/91" },
                    { thumb: "http://static.photos/black/640x360/92", full: "http://static.photos/black/1024x576/92" },
                    { thumb: "http://static.photos/black/640x360/93", full: "http://static.photos/black/1024x576/93" },
                    { thumb: "http://static.photos/black/640x360/94", full: "http://static.photos/black/1024x576/94" },
                    { thumb: "http://static.photos/black/640x360/95", full: "http://static.photos/black/1024x576/95" }
                ]
            }
        };

        // Get apartment ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const apartmentId = urlParams.get('id') || '1';

        // Load apartment data
        const apartment = apartments[apartmentId];

        if (apartment) {
            // Update page title
            document.title = `${apartment.title} - BlackApartment Novosibirsk`;

            // Update apartment information
            document.getElementById('apartmentTitle').textContent = apartment.title;
            document.getElementById('apartmentPrice').textContent = apartment.price;
            document.getElementById('apartmentAddress').textContent = apartment.address;

            // Update specifications
            const specsContainer = document.getElementById('apartmentSpecs');
            specsContainer.innerHTML = `
                <div>
                    <p class="text-noir-700"><strong>Мебель:</strong> ${apartment.specs.furniture}</p>
                    <p class="text-noir-700"><strong>Техника:</strong> ${apartment.specs.appliances}</p>
                    <p class="text-noir-700"><strong>Общая площадь:</strong> ${apartment.specs.area}</p>
                </div>
                <div>
                    <p class="text-noir-700"><strong>Этаж:</strong> ${apartment.specs.floor}</p>
                    <p class="text-noir-700"><strong>Санузел:</strong> ${apartment.specs.bathroom}</p>
                </div>
            `;

            // Load images
            const galleryContainer = document.getElementById('lightgallery');
            galleryContainer.innerHTML = apartment.images.map((img, index) => `
                <a href="${img.full}" class="group">
                    <img src="${img.thumb}" alt="${apartment.title} - Photo ${index + 1}" class="w-full h-48 object-cover rounded-lg transition-all duration-300 group-hover:scale-105" data-lg-size="1024-576">
                </a>
            `).join('');

            // Initialize lightGallery
            lightGallery(galleryContainer, {
                selector: 'a',
                download: false,
                counter: true
            });
        }

        // Generate calendar days (30 days from today)
        const calendarDays = document.getElementById('calendarDays');
        const today = new Date();
        
        // Sample booked dates
        const bookedDates = [
            '2024-02-15', '2024-02-16', '2024-02-17',
            '2024-02-25', '2024-02-26',
            '2024-03-05', '2024-03-06', '2024-03-07'
        ];

        // Generate 30 days starting from today
        for (let i = 0; i < 30; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'text-sm p-2 rounded';
                
                // Format date as YYYY-MM-DD
                const dateString = date.toISOString().split('T')[0];
                
                // Check if date is booked
                if (bookedDates.includes(dateString)) {
                    dayElement.classList.add('bg-red-500', 'text-white', 'font-medium');
                } else {
                    dayElement.classList.add('bg-white', 'text-noir-900', 'border', 'border-noir-200');
                }
                
                dayElement.textContent = date.getDate();
                calendarDays.appendChild(dayElement);
            }
</script>
</body>
</html>